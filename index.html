<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday My Princess üëë</title>
<link href="https://fonts.googleapis.com/css2?family=Dongle:wght@400;700&family=Cute+Font&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
:root {
    --oled-black: #000000;
    --glass-dark: rgba(255,255,255,0.05);
    --accent-pink: #ff5c8d;
    --title-pink: #ff80aa;
    --heart-red: #ff3c70;
    --yellow-flame: #ffc94d;
    --white-flame: #fff6d1;
}

/* --- Body & Background Pattern --- */
body {
    margin: 0;
    font-family: 'Cute Font', cursive;
    background-color: #000000; /* OLED black */
    background-image: 
        radial-gradient(circle at 20% 20%, rgba(255,92,141,0.1) 10%, transparent 11%),
        radial-gradient(circle at 80% 80%, rgba(255,92,141,0.1) 10%, transparent 11%),
        radial-gradient(circle at 50% 50%, rgba(255,120,200,0.05) 5%, transparent 6%);
    background-size: 60px 60px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    text-align: center;
    overflow: hidden;
    font-size: 1.2em;
    color: #ff80aa; /* pink accent for text */
    padding: 20px;
}


/* --- Scenes --- */
.scene {
    position: absolute;
    width: 95%;
    max-width: 650px;
    padding: 30px;
    box-sizing: border-box;
    background-color: var(--glass-dark);
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.9);
    backdrop-filter: blur(6px);
    border: 1px solid rgba(255,255,255,0.1);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s ease-in-out, transform 0.8s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
    z-index: 10;
    transform: scale(0.95);
}
.scene.active {
    opacity: 1;
    pointer-events: auto;
    transform: scale(1);
}

/* --- Candle --- */
.candle-wrapper { margin: 20px 0; position: relative; z-index: 10; }
.candle {
    width: 40px; height: 100px;
    background: linear-gradient(to top, #fff 0%, #ddd 100%);
    border-radius: 8px;
    box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
    position: relative;
}
.wick { width: 2px; height: 10px; background: #333; position: absolute; top: -10px; left: 50%; transform: translateX(-50%); border-radius: 1px; }
.flame {
    position: absolute;
    top: -35px; left: 50%;
    transform: translateX(-50%);
    width: 18px; height: 30px;
    background: radial-gradient(circle at 50% 30%, var(--white-flame) 0%, var(--yellow-flame) 50%, rgba(255,200,100,0) 90%);
    border-radius: 50% 50% 60% 60%;
    box-shadow: 0 0 20px 8px rgba(255,200,100,0.8);
    cursor: pointer;
    transition: opacity 0.4s ease, transform 0.25s ease;
    animation: flame-flicker 1.5s ease-in-out infinite alternate;
}
.flame.hidden { opacity: 0; transform: translateX(-50%) scale(0.6); pointer-events: none; }
@keyframes flame-flicker { 0% { transform: translateX(-50%) rotate(1deg) scale(1); box-shadow: 0 0 15px 5px rgba(255,200,100,0.7); } 50% { transform: translateX(-50%) rotate(-1deg) scale(1.02); box-shadow: 0 0 18px 6px rgba(255,200,100,0.9); } 100% { transform: translateX(-50%) rotate(0deg) scale(0.98); box-shadow: 0 0 14px 4px rgba(255,200,100,0.6); } }

/* --- Envelope --- */
.envelope-container { position: relative; width: 200px; height: 120px; cursor: pointer; perspective: 1000px; margin-bottom: 20px; z-index: 50; transition: opacity 0.6s ease, transform 0.6s ease; }
.envelope-body { position: absolute; width: 100%; height: 100%; background: var(--accent-pink); border-radius: 0 0 5px 5px; box-shadow: 0 5px 10px rgba(0,0,0,0.5); z-index: 1; }
.envelope-flap { position: absolute; top: -60px; left: 0; width: 0; height: 0; border-left: 100px solid transparent; border-right: 100px solid transparent; border-bottom: 60px solid var(--title-pink); transform-origin: bottom; transition: transform 0.6s ease, top 0.6s ease; transform: rotateX(180deg); z-index: 5; }
.envelope-container.open .envelope-flap { transform: rotateX(0deg); top: 0; z-index: 0; }
.sticker-overlay { position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); font-size: 25px; color: var(--heart-red); z-index: 10; pointer-events: none; transition: opacity 0.2s; }
.envelope-container.open .sticker-overlay { opacity: 0; }

#open-button { opacity: 0; pointer-events: none; transition: opacity 0.5s ease, margin-top 0.5s; margin-top: 0; }
#open-button.visible { opacity: 1; pointer-events: auto; margin-top: 30px; }

button { background: var(--title-pink); color: #fff; border: none; padding: 10px 25px; border-radius: 30px; cursor: pointer; font-size: 1.1em; font-family: 'Dongle', sans-serif; font-weight: 700; box-shadow: 0 3px 10px rgba(0,0,0,0.7); transition: background 0.2s, transform 0.1s; }
button:hover { background: var(--accent-pink); transform: translateY(-2px); }

h1 { font-family: 'Great Vibes', cursive; font-size: 4em; color: var(--title-pink); margin-bottom: 0.1em; line-height: 1em; text-shadow: 1px 1px 5px rgba(0,0,0,0.9); }
.scene p { font-family: 'Cute Font', cursive; font-size: 1.3em; color: var(--accent-pink); margin: 5px 0 15px 0; line-height: 1.4; }

.bears-container { display: flex; flex-direction: column; align-items: center; margin-top: 20px; position: relative; z-index: 2; }
.bear-graphic { font-size: 5em; line-height: 1; animation: bear-wiggle 3s ease-in-out infinite alternate; }
@keyframes bear-wiggle { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(-5px) rotate(1deg); } }

.couple-image-container { width: 300px; height: 300px; max-width: 90%; max-height: 90vw; border-radius: 50%; background-color: var(--oled-black); display: flex; justify-content: center; align-items: center; overflow: hidden; box-shadow: 0 5px 20px rgba(255,20,100,0.3); border: 5px solid var(--accent-pink); }
.couple-image { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; position: relative; z-index: 1; }

.message-box { background-color: #111; border: 1px solid var(--accent-pink); border-radius: 15px; padding: 20px; margin-top: 20px; box-shadow: 0 2px 10px rgba(255,20,100,0.2); text-align: left; position: relative; max-width: 90%; }

.confetti-wrapper { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; pointer-events: none; z-index: 0; }
.confetti { position: absolute; width: 10px; height: 10px; opacity: 0; animation: confetti-fall 3s ease-out forwards; }
.confetti:nth-child(4n + 1) { background-color: var(--title-pink); }
.confetti:nth-child(4n + 2) { background-color: var(--yellow-flame); }
.confetti:nth-child(4n + 3) { background-color: var(--heart-red); }
.confetti:nth-child(4n) { background-color: var(--accent-pink); }
@keyframes confetti-fall { 0% { transform: translateY(-100px) rotateZ(0deg) scale(0.5); opacity: 0; } 5% { opacity: 1; transform: translateY(-80px) rotateZ(30deg) scale(1); } 100% { transform: translateY(100vh) rotateZ(720deg) scale(0.8); opacity: 0; } }

@media (max-width: 550px) { h1 { font-size: 3em; } .scene { padding: 20px 15px; } .couple-image-container { width: 250px; height: 250px; } }
</style>
</head>
<body>

<div id="scene1" class="scene active">
    <h1>A Birthday Surprise!</h1>
    <p>Tap the envelope to see what's inside.</p>
    <div class="envelope-container" id="envelope" role="button" aria-label="Open the pink envelope to reveal the card">
        <div class="envelope-body"></div>
        <div class="envelope-flap"></div>
        <div class="sticker-overlay">‚ù§</div>
    </div>
    <button id="open-button" onclick="nextScene(2)" aria-label="Open Your Gift to continue">Open Your Gift üéÅ</button>
    <div class="navigation-hint" id="hint-1">Click the envelope to open!</div>
</div>

<div id="scene2" class="scene">
    <h1>Happy Birthday!</h1>
    <p>To My One & Only</p>
    <div class="bears-container"><span class="bear-graphic">üêª‚Äç‚ù§Ô∏è‚Äçüêª</span></div>
    <p>You are my sunshine, my moon, and all my stars.</p>
    <button onclick="nextScene(3)">See My Wish üíï</button>
</div>

<div id="scene3" class="scene">
    <h1>My Birthday Wish For You</h1>
    <div class="couple-image-container">
        <img src="your-couple-photo.jpg" alt="A photo of us together" class="couple-image" onerror="this.onerror=null; this.src='https://via.placeholder.com/300/000000/ff5c8d?text=Our+Photo'">
    </div>
    <div class="message-box"><p id="typing-message"></p></div>
    <button onclick="nextScene(4)">Read My Full Letter üíå</button>
</div>

<div id="scene4" class="scene">
    <h1>My Letter to My Queen</h1>
    <div class="letter-content">
        <strong>To my little princess,</strong> <br><br>
        You have a heart too good for this world, and I promise to forever protect it. Every smile of yours is my joy, my happiness, and my peace. Even in my wildest dreams, I never imagined someone as beautiful and pure as you existed.
        <br><br>
        I am so proud of the amazing woman you are and I look forward to shining brightly alongside you for the rest of our lives.
        <br><br>
        I heart you, Always & Forever <br>
        <strong>‚ù§Ô∏è Yours Forever</strong>
    </div>
    <button onclick="nextScene(5)">Final Surprise üïØÔ∏è</button>
</div>

<div id="scene5" class="scene">
    <h1>Make A Wish & Blow!</h1>
    <p>Click the flame to blow out the candle and reveal the final celebration!</p>
    <div class="candle-wrapper">
        <div class="candle">
            <div class="wick"></div>
            <div class="flame" id="flame" title="Click to blow out"></div>
        </div>
    </div>
</div>

<div id="scene6" class="scene">
    <h1>üéâ Happy Birthday! I Love You Forever! üéâ</h1>
    <p>My Queen üëë, Today is Your Day!</p>
    <button onclick="window.location.reload()">Start Over</button>
    <p style="margin-top: 50px;">üéÇ</p>
</div>

<div class="confetti-wrapper" id="confetti-layer"></div>
<audio id="blow-sound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-small-blow-2580.mp3" type="audio/mpeg">
</audio>

<script>
const SCENES = [null,
    document.getElementById('scene1'),
    document.getElementById('scene2'),
    document.getElementById('scene3'),
    document.getElementById('scene4'),
    document.getElementById('scene5'),
    document.getElementById('scene6')
];

const ENVELOPE = document.getElementById('envelope');
const OPEN_BUTTON = document.getElementById('open-button');
const HINT = document.getElementById('hint-1');
const TYPING_AREA = document.getElementById('typing-message');
const FLAME = document.getElementById('flame');
const BLOW_SOUND = document.getElementById('blow-sound');

function openEnvelope() {
    if (!ENVELOPE.classList.contains('open')) {
        ENVELOPE.classList.add('open');
        HINT.style.opacity = '0';
        setTimeout(() => {
            ENVELOPE.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            ENVELOPE.style.opacity = '0';
            ENVELOPE.style.transform = 'scale(0.8)';
            setTimeout(() => ENVELOPE.style.display = 'none', 600);

            OPEN_BUTTON.classList.add('visible');
            HINT.textContent = 'Now click "Open Your Gift" to continue! üéâ';
            HINT.style.opacity = '1';
        }, 500);
    }
}

const smallMsg = "Every moment with you is a gift, but today is truly special. I hope your day is filled with all the joy, cake, and laughter you deserve! Love you!";
function typeMessage() {
    TYPING_AREA.textContent = '';
    let i = 0;
    const id = setInterval(() => {
        if (i < smallMsg.length) TYPING_AREA.textContent += smallMsg[i++];
        else clearInterval(id);
    }, 30);
}

function nextScene(n) {
    const activeScene = document.querySelector('.scene.active');
    const next = SCENES[n];
    if (activeScene) activeScene.classList.remove('active');
    if (next) next.classList.add('active');
    if (n === 3) typeMessage();
    if (n === 6) startConfetti();
}

function blowOutCandle() {
    if (FLAME.classList.contains('hidden')) return;
    FLAME.classList.add('hidden');
    BLOW_SOUND.play().catch(e => console.log(e));
    setTimeout(() => nextScene(6), 600);
}

function startConfetti() {
    const wrapper = document.getElementById('confetti-layer');
    wrapper.innerHTML = '';
    const count = 100;
    for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.animationDelay = (Math.random() * 3) + 's';
        wrapper.appendChild(confetti);
    }
}

ENVELOPE.addEventListener('click', openEnvelope);
FLAME.addEventListener('click', blowOutCandle);

SCENES[1].classList.add('active');
</script>

</body>
</html>
